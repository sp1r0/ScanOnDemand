<?xml version="1.0"?>
<Saved_MethodStream>
  <RootMethod ItemType="Method" Name="GetAccounts" Class="ISSBService" Namespace="SuperSecureBankService" ReturnType="System.Data.DataTable" Signature="public DataTable SuperSecureBankService.ISSBService.GetAccounts(long UserID)" DotNetName="SuperSecureBankService.ISSBService.GetAccounts">
    <Parameter Key="UserID" Value="System.Int64" />
    <Attribute Key="None" Value="OperationContract" />
    <Location File="C:\O2\Demos\SI - SuperSecureBank\SecurityInnovation-SuperSecureBank-938fde3\SuperSecureBankService\ISSBService.cs" Line="34" Column="3" Line_End="34" Column_End="39" />
  </RootMethod>
  <MethodStreamItems>
    <MethodStream_Item ItemType="ExternalClasses" Name="DataTable" Class="System.Data.DataTable" Namespace="System.Data" Signature="System.Data.DataTable" DotNetName="System.Data.DataTable" />
    <MethodStream_Item ItemType="ExternalMethod" Name="Open" Class="SqlConnection" Namespace="System.Data.SqlClient" ReturnType="System.Void" Signature="public virtual void System.Data.SqlClient.SqlConnection.Open()" DotNetName="System.Data.SqlClient.SqlConnection.Open" />
    <MethodStream_Item ItemType="ExternalMethod" Name="Read" Class="SqlDataReader" Namespace="System.Data.SqlClient" ReturnType="System.Boolean" Signature="public virtual bool System.Data.SqlClient.SqlDataReader.Read()" DotNetName="System.Data.SqlClient.SqlDataReader.Read" />
    <MethodStream_Item ItemType="ExternalMethod" Name="NewRow" Class="DataTable" Namespace="System.Data" ReturnType="System.Data.DataRow" Signature="public DataRow System.Data.DataTable.NewRow()" DotNetName="System.Data.DataTable.NewRow" />
    <MethodStream_Item ItemType="ExternalMethod" Name="GetInt64" Class="SqlDataReader" Namespace="System.Data.SqlClient" ReturnType="System.Int64" Signature="public virtual long System.Data.SqlClient.SqlDataReader.GetInt64(int i)" DotNetName="System.Data.SqlClient.SqlDataReader.GetInt64">
      <Parameter Key="i" Value="System.Int32" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="GetString" Class="SqlDataReader" Namespace="System.Data.SqlClient" ReturnType="System.String" Signature="public virtual string System.Data.SqlClient.SqlDataReader.GetString(int i)" DotNetName="System.Data.SqlClient.SqlDataReader.GetString">
      <Parameter Key="i" Value="System.Int32" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="#ctor" Class="DataTable" Namespace="System.Data" ReturnType="System.Data.DataTable" Signature="public System.Data.DataTable.DataTable()" DotNetName="System.Data.DataTable.#ctor" />
    <MethodStream_Item ItemType="ExternalMethod" Name="#ctor" Class="SqlConnection" Namespace="System.Data.SqlClient" ReturnType="System.Data.SqlClient.SqlConnection" Signature="public System.Data.SqlClient.SqlConnection.SqlConnection(string connectionString)" DotNetName="System.Data.SqlClient.SqlConnection.#ctor">
      <Parameter Key="connectionString" Value="System.String" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="#ctor" Class="SqlCommand" Namespace="System.Data.SqlClient" ReturnType="System.Data.SqlClient.SqlCommand" Signature="public System.Data.SqlClient.SqlCommand.SqlCommand(string cmdText, SqlConnection connection)" DotNetName="System.Data.SqlClient.SqlCommand.#ctor">
      <Parameter Key="cmdText" Value="System.String" />
      <Parameter Key="connection" Value="System.Data.SqlClient.SqlConnection" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="Add" Class="DataColumnCollection" Namespace="System.Data" ReturnType="System.Data.DataColumn" Signature="public DataColumn System.Data.DataColumnCollection.Add(string columnName)" DotNetName="System.Data.DataColumnCollection.Add">
      <Parameter Key="columnName" Value="System.String" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="Format" Class="String" Namespace="System" ReturnType="System.String" Signature="public static string string.Format(string format, object arg0)" DotNetName="System.String.Format">
      <Parameter Key="format" Value="System.String" />
      <Parameter Key="arg0" Value="System.Object" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="ExternalMethod" Name="ExecuteReader" Class="SqlCommand" Namespace="System.Data.SqlClient" ReturnType="System.Data.SqlClient.SqlDataReader" Signature="public SqlDataReader System.Data.SqlClient.SqlCommand.ExecuteReader()" DotNetName="System.Data.SqlClient.SqlCommand.ExecuteReader" />
    <MethodStream_Item ItemType="ExternalMethod" Name="Add" Class="DataRowCollection" Namespace="System.Data" ReturnType="System.Void" Signature="public void System.Data.DataRowCollection.Add(DataRow row)" DotNetName="System.Data.DataRowCollection.Add">
      <Parameter Key="row" Value="System.Data.DataRow" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="MappedMethod" Name="GetAccounts" Class="ISSBService" Namespace="SuperSecureBankService" ReturnType="System.Data.DataTable" Signature="public DataTable SuperSecureBankService.ISSBService.GetAccounts(long UserID)" DotNetName="SuperSecureBankService.ISSBService.GetAccounts">
      <Parameter Key="UserID" Value="System.Int64" />
      <Attribute Key="None" Value="OperationContract" />
      <Location File="C:\O2\Demos\SI - SuperSecureBank\SecurityInnovation-SuperSecureBank-938fde3\SuperSecureBankService\ISSBService.cs" Line="34" Column="3" Line_End="34" Column_End="39" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="MappedMethod" Name="GetAccounts" Class="SSBService" Namespace="SuperSecureBankService" ReturnType="System.Data.DataTable" Signature="public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" DotNetName="SuperSecureBankService.SSBService.GetAccounts">
      <Parameter Key="UserID" Value="System.Int64" />
      <Location File="C:\O2\Demos\SI - SuperSecureBank\SecurityInnovation-SuperSecureBank-938fde3\SuperSecureBankService\SSBService.svc.cs" Line="170" Column="3" Line_End="170" Column_End="45" />
    </MethodStream_Item>
    <MethodStream_Item ItemType="Property" Name="Columns" Class="System.Data.DataTable.Columns" Namespace="System.Data.DataTable" Signature="System.Data.DataTable.Columns" DotNetName="System.Data.DataTable.Columns" />
    <MethodStream_Item ItemType="Property" Name="Rows" Class="System.Data.DataTable.Rows" Namespace="System.Data.DataTable" Signature="System.Data.DataTable.Rows" DotNetName="System.Data.DataTable.Rows" />
  </MethodStreamItems>
  <CodeStreams>
    <CodeStreamPath Text="AttributeSection" Line="9" Column="3" Line_End="9" Column_End="24" HashCode="0" />
    <CodeStreamPath Text="Attribute" Line="9" Column="4" Line_End="9" Column_End="23" HashCode="0">
      <CodeStreamPath Text="AttributeSection" Line="9" Column="3" Line_End="9" Column_End="24" HashCode="0" />
    </CodeStreamPath>
    <CodeStreamPath Text="method -&gt; private DataTable SuperSecureBankService.ISSBService.GetAccounts(long UserID)" Line="10" Column="3" Line_End="10" Column_End="38" HashCode="0">
      <CodeStreamPath Text="parameter -&gt; UserID" Line="10" Column="25" Line_End="10" Column_End="31" HashCode="0">
        <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="12" Column="50" Line_End="12" Column_End="56" HashCode="0">
          <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
            <CodeStreamPath Text="parameter -&gt; UserID" Line="17" Column="32" Line_End="17" Column_End="38" HashCode="0">
              <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="31" Column="53" Line_End="31" Column_End="59" HashCode="0">
                <CodeStreamPath Text="method -&gt; public static string string.Format(string format, object arg0)" Line="146" Column="3" Line_End="146" Column_End="58" HashCode="0">
                  <CodeStreamPath Text="parameter -&gt; arg0" Line="146" Column="46" Line_End="146" Column_End="53" HashCode="0" />
                </CodeStreamPath>
              </CodeStreamPath>
            </CodeStreamPath>
          </CodeStreamPath>
        </CodeStreamPath>
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="TypeReference" Line="10" Column="25" Line_End="10" Column_End="30" HashCode="0">
      <CodeStreamPath Text="method -&gt; private DataTable SuperSecureBankService.ISSBService.GetAccounts(long UserID)" Line="10" Column="3" Line_End="10" Column_End="38" HashCode="0">
        <CodeStreamPath Text="parameter -&gt; UserID" Line="10" Column="25" Line_End="10" Column_End="31" HashCode="0">
          <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="12" Column="50" Line_End="12" Column_End="56" HashCode="0">
            <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
              <CodeStreamPath Text="parameter -&gt; UserID" Line="17" Column="32" Line_End="17" Column_End="38" HashCode="0">
                <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="31" Column="53" Line_End="31" Column_End="59" HashCode="0">
                  <CodeStreamPath Text="method -&gt; public static string string.Format(string format, object arg0)" Line="146" Column="3" Line_End="146" Column_End="58" HashCode="0">
                    <CodeStreamPath Text="parameter -&gt; arg0" Line="146" Column="46" Line_End="146" Column_End="53" HashCode="0" />
                  </CodeStreamPath>
                </CodeStreamPath>
              </CodeStreamPath>
            </CodeStreamPath>
          </CodeStreamPath>
        </CodeStreamPath>
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="TypeReference" Line="10" Column="3" Line_End="10" Column_End="12" HashCode="0" />
    <CodeStreamPath Text="ExpressionStatement" Line="12" Column="4" Line_End="12" Column_End="58" HashCode="0" />
    <CodeStreamPath Text="invocation -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="49" Line_End="12" Column_End="57" HashCode="0">
      <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
        <CodeStreamPath Text="ExpressionStatement" Line="12" Column="4" Line_End="12" Column_End="58" HashCode="0" />
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="memberRef -&gt; DefaultMethod: public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="37" Line_End="12" Column_End="49" HashCode="0">
      <CodeStreamPath Text="invocation -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="49" Line_End="12" Column_End="57" HashCode="0">
        <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
          <CodeStreamPath Text="ExpressionStatement" Line="12" Column="4" Line_End="12" Column_End="58" HashCode="0" />
        </CodeStreamPath>
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="[not resolved: target] .SSBService : SuperSecureBankService" Line="12" Column="26" Line_End="12" Column_End="37" HashCode="0">
      <CodeStreamPath Text="memberRef -&gt; DefaultMethod: public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="37" Line_End="12" Column_End="49" HashCode="0">
        <CodeStreamPath Text="invocation -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="49" Line_End="12" Column_End="57" HashCode="0">
          <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
            <CodeStreamPath Text="ExpressionStatement" Line="12" Column="4" Line_End="12" Column_End="58" HashCode="0" />
          </CodeStreamPath>
        </CodeStreamPath>
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="identifier  -&gt; SuperSecureBankService : [type not resolved]" Line="12" Column="4" Line_End="12" Column_End="26" HashCode="0">
      <CodeStreamPath Text="invocation -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="12" Column="49" Line_End="12" Column_End="57" HashCode="0">
        <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0" />
      </CodeStreamPath>
    </CodeStreamPath>
    <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="12" Column="50" Line_End="12" Column_End="56" HashCode="0">
      <CodeStreamPath Text="method -&gt; public DataTable SuperSecureBankService.SSBService.GetAccounts(long UserID)" Line="17" Column="3" Line_End="17" Column_End="45" HashCode="0">
        <CodeStreamPath Text="parameter -&gt; UserID" Line="17" Column="32" Line_End="17" Column_End="38" HashCode="0">
          <CodeStreamPath Text="identifier  -&gt; UserID : System.Int64" Line="31" Column="53" Line_End="31" Column_End="59" HashCode="0">
            <CodeStreamPath Text="method -&gt; public static string string.Format(string format, object arg0)" Line="146" Column="3" Line_End="146" Column_End="58" HashCode="0">
              <CodeStreamPath Text="parameter -&gt; arg0" Line="146" Column="46" Line_End="146" Column_End="53" HashCode="0" />
            </CodeStreamPath>
          </CodeStreamPath>
        </CodeStreamPath>
      </CodeStreamPath>
    </CodeStreamPath>
  </CodeStreams>
  <MethodStream_FileCache>C:\O2\_tempDir\11-3-2011\_methodStreams\public_DataTable_SuperSecureBankService.ISSBService.GetAccounts_long_UserID_.cs</MethodStream_FileCache>
  <Serialized_Saved_MethodStream_FileCache>C:\O2\Demos\SI - SuperSecureBank\O2 Method Streams_2\public_DataTable_SuperSecureBankService.ISSBService.GetAccounts_long_UserID_.methodStream.xml</Serialized_Saved_MethodStream_FileCache>
  <MethodStream>using System;
using System.Data;
using System.Data.SqlClient;
using SuperSecureBankService;
namespace SuperSecureBankService
{
	public class ISSBService
	{
		[OperationContract()]
		DataTable GetAccounts(Int64 UserID)
		{
			SuperSecureBankService.SSBService.GetAccounts(UserID);
		}
	}
	public class SSBService : SuperSecureBankService.ISSBService
	{
		public DataTable GetAccounts(Int64 UserID)
		{
			string selectAccounts = "SELECT * FROM FriendlyAccounts\r\n\t\t\t\t\t\t\t\t\tWHERE userID = {0}";
			DataTable dt = new DataTable();
			try {
				dt.Columns.Add("accountID");
				dt.Columns.Add("balance");
				dt.Columns.Add("LevelName");
				dt.Columns.Add("LevelDescription");
				dt.Columns.Add("TypeName");
				dt.Columns.Add("TypeDescription");
				dt.Columns.Add("Status");
				using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["ssbcon"].ConnectionString)) {
					conn.Open();
					selectAccounts = String.Format(selectAccounts, UserID);
					SqlCommand command = new SqlCommand(selectAccounts, conn);
					SqlDataReader reader = command.ExecuteReader();
					Int64 totalValue = 0;
					while (reader.Read()) {
						DataRow dr = dt.NewRow();
						dr["accountID"] = reader.GetInt64(1);
						dr["balance"] = string.Format("{0:C}", reader.GetInt64(2));
						dr["LevelName"] = reader.GetString(3);
						dr["LevelDescription"] = reader.GetString(4);
						dr["TypeName"] = reader.GetString(5);
						dr["TypeDescription"] = reader.GetString(6);
						dr["Status"] = reader.GetString(7);
						totalValue += reader.GetInt64(2);
						dt.Rows.Add(dr);
					}
					DataRow footer = dt.NewRow();
					footer["accountID"] = "&lt;strong&gt;Total:&lt;/strong&gt;";
					footer["balance"] = string.Format("&lt;strong&gt;{0:C}&lt;/strong&gt;", totalValue);
					footer["LevelName"] = "";
					footer["LevelDescription"] = "";
					footer["TypeName"] = "";
					footer["TypeDescription"] = "";
					footer["Status"] = "";
					dt.Rows.Add(footer);
				}
			} catch {
				throw;
			}
			return dt;
		}
	}
}
namespace System.Data.SqlClient
{
	public class SqlConnection : System.Data.Common.DbConnection, System.ComponentModel.IComponent, System.IDisposable, System.Data.IDbConnection, System.ICloneable
	{
		public virtual void Open()
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public SqlConnection(string connectionString)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
	public class SqlDataReader : System.Data.Common.DbDataReader, System.Data.IDataReader, System.IDisposable, System.Data.IDataRecord, System.Collections.IEnumerable
	{
		public virtual bool Read()
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public virtual long GetInt64(int i)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public virtual string GetString(int i)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
	public class SqlCommand : System.Data.Common.DbCommand, System.ComponentModel.IComponent, System.IDisposable, System.Data.IDbCommand, System.ICloneable
	{
		public SqlCommand(string cmdText, SqlConnection connection)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public SqlDataReader ExecuteReader()
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
}
namespace System.Data
{
	public class DataTable : System.ComponentModel.MarshalByValueComponent, System.ComponentModel.IComponent, System.IDisposable, System.IServiceProvider, System.ComponentModel.IListSource, System.ComponentModel.ISupportInitializeNotification, System.ComponentModel.ISupportInitialize, System.Runtime.Serialization.ISerializable, System.Xml.Serialization.IXmlSerializable
	{
		public DataRow NewRow()
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public DataTable()
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
		public System.Data.DataColumnCollection Columns {
			get {
				throw new NotImplementedException();
			}
		}
		public System.Data.DataRowCollection Rows {
			get {
				throw new NotImplementedException();
			}
		}
	}
	public class DataColumnCollection : System.Data.InternalDataCollectionBase, System.Collections.ICollection, System.Collections.IEnumerable
	{
		public DataColumn Add(string columnName)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
	public class DataRowCollection : System.Data.InternalDataCollectionBase, System.Collections.ICollection, System.Collections.IEnumerable
	{
		public void Add(DataRow row)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
}
namespace System
{
	public class String : System.IComparable, System.ICloneable, System.IConvertible, System.IComparable, System.Collections.Generic.IEnumerable, System.Collections.IEnumerable, System.IEquatable
	{
		public static string Format(string format, object arg0)
		{
			throw new System.Exception("O2 Auto Generated Method");
		}
	}
}
</MethodStream>
</Saved_MethodStream>